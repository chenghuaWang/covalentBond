<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Covalent Bond: /home/wang/covalentBond/src/core/server/mem/cbLRUCache.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Covalent Bond
   &#160;<span id="projectnumber">0.0.1-alpha</span>
   </div>
   <div id="projectbrief">&#39;covalent bond&#39; is a data middle office. As a 2022-2023 Fall SWE final project.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_c878bd9b41493a925b44148dac220d7d.html">server</a></li><li class="navelem"><a class="el" href="dir_52a68e6756c7ffc7b39368a6880d2ef9.html">mem</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">cbLRUCache.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="cbLRUCache_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;../../pch.hpp&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="cbLRUCache_8hpp.html#a1363719668ca50379880427fa2c3b20d">   19</a></span>&#160;<span class="preprocessor">#define find_list for (auto i = m_cacheList.begin(); i != m_cacheList.end(); i++)</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacecb.html">cb</a> {</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="structcb_1_1listNode.html">   26</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structcb_1_1listNode.html">listNode</a> {</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="structcb_1_1listNode.html#a3132dfa1625ab23c1723b2923ad49efa">   27</a></span>&#160;  std::string <a class="code" href="structcb_1_1listNode.html#a3132dfa1625ab23c1723b2923ad49efa">key</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;};</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="namespacecb.html#aa7c4b9d0a0384c05a44d3039d9885558">   30</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="structcb_1_1listNode.html">listNode</a> <a class="code" href="namespacecb.html#aa7c4b9d0a0384c05a44d3039d9885558">node</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> V&gt;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html">   39</a></span>&#160;<span class="keyword">class </span><a class="code" href="classcb_1_1cbLRUCache.html">cbLRUCache</a> {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#af754319d5c7cc77f5eb057926252a707">   46</a></span>&#160;  <a class="code" href="classcb_1_1cbLRUCache.html#af754319d5c7cc77f5eb057926252a707">cbLRUCache</a>(int32_t max_size) : <a class="code" href="classcb_1_1cbLRUCache.html#a7c54e3dc65e065324642c5d9d2b8c436">m_maxSize</a>(max_size), <a class="code" href="classcb_1_1cbLRUCache.html#a6e3c5f3641f466a141492de7a096e7dd">m_sizeCounter</a>(0), <a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a>(nullptr) {}</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#ac6d5ba07ba79a9bb04b856d89dbde338">   52</a></span>&#160;  <a class="code" href="classcb_1_1cbLRUCache.html#ac6d5ba07ba79a9bb04b856d89dbde338">~cbLRUCache</a>() { <span class="keyword">delete</span> <a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a>; }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#a8cc7aca13b63fca3731c80125d0f08a9">   61</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcb_1_1cbLRUCache.html#a8cc7aca13b63fca3731c80125d0f08a9">push</a>(std::string key, V value) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="cbLRUCache_8hpp.html#a1363719668ca50379880427fa2c3b20d">find_list</a> {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="keywordflow">if</span> (i-&gt;key == key) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">m_cacheMap</a>[key] = value;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        this-&gt;<a class="code" href="classcb_1_1cbLRUCache.html#a0b280e9228160d9712ed2d725228adbf">update</a>(key);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#a6e3c5f3641f466a141492de7a096e7dd">m_sizeCounter</a>++;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcb_1_1cbLRUCache.html#a6e3c5f3641f466a141492de7a096e7dd">m_sizeCounter</a> &gt; <a class="code" href="classcb_1_1cbLRUCache.html#a7c54e3dc65e065324642c5d9d2b8c436">m_maxSize</a>) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <a class="code" href="classcb_1_1cbLRUCache.html#a6e3c5f3641f466a141492de7a096e7dd">m_sizeCounter</a> = <a class="code" href="classcb_1_1cbLRUCache.html#a7c54e3dc65e065324642c5d9d2b8c436">m_maxSize</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      this-&gt;<a class="code" href="classcb_1_1cbLRUCache.html#a32517b757e585364fa8972fa298e6d9d">eraseTail</a>();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">m_cacheMap</a>.insert({key, value});</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    this-&gt;<a class="code" href="classcb_1_1cbLRUCache.html#a2368acdee826f07ac224617d9882e1b1">insertTop</a>(key);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#ab56c26d264c685eba20411fb25329ce4">   86</a></span>&#160;  V* <a class="code" href="classcb_1_1cbLRUCache.html#ab56c26d264c685eba20411fb25329ce4">get</a>(<span class="keyword">const</span> std::string&amp; key) {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">m_cacheMap</a>.count(key)) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      this-&gt;<a class="code" href="classcb_1_1cbLRUCache.html#a0b280e9228160d9712ed2d725228adbf">update</a>(key);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      V* exit = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      exit = &amp;<a class="code" href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">m_cacheMap</a>[key];</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="comment">// this-&gt;__loop_map();</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <span class="keywordflow">return</span> exit;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    V* not_exit = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">return</span> not_exit;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#a32517b757e585364fa8972fa298e6d9d">  103</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcb_1_1cbLRUCache.html#a32517b757e585364fa8972fa298e6d9d">eraseTail</a>() {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a> = &amp;<a class="code" href="classcb_1_1cbLRUCache.html#af99767b4757fb7727011558bd9c460bd">m_cacheList</a>.back();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#af2a05e8bc5b125fab2f483088d04e1df">m_bufKey</a> = <a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a>-&gt;<a class="code" href="structcb_1_1listNode.html#a3132dfa1625ab23c1723b2923ad49efa">key</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">auto</span> buf_ptr = <a class="code" href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">m_cacheMap</a>.find(<a class="code" href="classcb_1_1cbLRUCache.html#af2a05e8bc5b125fab2f483088d04e1df">m_bufKey</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">m_cacheMap</a>.erase(buf_ptr);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#af99767b4757fb7727011558bd9c460bd">m_cacheList</a>.pop_back();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#a0b280e9228160d9712ed2d725228adbf">  117</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcb_1_1cbLRUCache.html#a0b280e9228160d9712ed2d725228adbf">update</a>(<span class="keyword">const</span> std::string&amp; key) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="cbLRUCache_8hpp.html#a1363719668ca50379880427fa2c3b20d">find_list</a> {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <span class="keywordflow">if</span> (i-&gt;key == key) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="classcb_1_1cbLRUCache.html#af99767b4757fb7727011558bd9c460bd">m_cacheList</a>.erase(i);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    this-&gt;<a class="code" href="classcb_1_1cbLRUCache.html#a2368acdee826f07ac224617d9882e1b1">insertTop</a>(key);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#a2368acdee826f07ac224617d9882e1b1">  132</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classcb_1_1cbLRUCache.html#a2368acdee826f07ac224617d9882e1b1">insertTop</a>(<span class="keyword">const</span> std::string&amp; key) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a> = <span class="keyword">new</span> (<a class="code" href="namespacecb.html#aa7c4b9d0a0384c05a44d3039d9885558">node</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a>-&gt;<a class="code" href="structcb_1_1listNode.html#a3132dfa1625ab23c1723b2923ad49efa">key</a> = key;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#af99767b4757fb7727011558bd9c460bd">m_cacheList</a>.push_front(*<a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keyword">delete</span> (<a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#a3bf985809b854ce62e6a497e6aa6f585">  144</a></span>&#160;  [[deprecated(<span class="stringliteral">&quot;For debug only&quot;</span>)]] <span class="keywordtype">void</span> <a class="code" href="classcb_1_1cbLRUCache.html#a3bf985809b854ce62e6a497e6aa6f585">__loop_map</a>() {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    std::string bs;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    int32_t n = 0;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = <a class="code" href="classcb_1_1cbLRUCache.html#af99767b4757fb7727011558bd9c460bd">m_cacheList</a>.begin(); i != <a class="code" href="classcb_1_1cbLRUCache.html#af99767b4757fb7727011558bd9c460bd">m_cacheList</a>.end(); i++) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      bs = i-&gt;key;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;The&quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot;th element&quot;</span> &lt;&lt; bs &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; <a class="code" href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">m_cacheMap</a>[bs] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      n++;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#a7c54e3dc65e065324642c5d9d2b8c436">  155</a></span>&#160;  int32_t <a class="code" href="classcb_1_1cbLRUCache.html#a7c54e3dc65e065324642c5d9d2b8c436">m_maxSize</a>;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#a6e3c5f3641f466a141492de7a096e7dd">  156</a></span>&#160;  int32_t <a class="code" href="classcb_1_1cbLRUCache.html#a6e3c5f3641f466a141492de7a096e7dd">m_sizeCounter</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">  157</a></span>&#160;  <a class="code" href="structcb_1_1listNode.html">node</a>* <a class="code" href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">m_bufNode</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#af2a05e8bc5b125fab2f483088d04e1df">  158</a></span>&#160;  std::string <a class="code" href="classcb_1_1cbLRUCache.html#af2a05e8bc5b125fab2f483088d04e1df">m_bufKey</a>;</div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#af99767b4757fb7727011558bd9c460bd">  159</a></span>&#160;  std::list&lt;node&gt; <a class="code" href="classcb_1_1cbLRUCache.html#af99767b4757fb7727011558bd9c460bd">m_cacheList</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">  160</a></span>&#160;  std::map&lt;std::string, V&gt; <a class="code" href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">m_cacheMap</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;};</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;}  <span class="comment">// namespace cb</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_af754319d5c7cc77f5eb057926252a707"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#af754319d5c7cc77f5eb057926252a707">cb::cbLRUCache::cbLRUCache</a></div><div class="ttdeci">cbLRUCache(int32_t max_size)</div><div class="ttdoc">Construct a new cb Least Recently Use Cache object.</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00046">cbLRUCache.hpp:46</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_a3bf985809b854ce62e6a497e6aa6f585"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#a3bf985809b854ce62e6a497e6aa6f585">cb::cbLRUCache::__loop_map</a></div><div class="ttdeci">void __loop_map()</div><div class="ttdoc">loop in cachae list and map</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00144">cbLRUCache.hpp:144</a></div></div>
<div class="ttc" id="astructcb_1_1listNode_html"><div class="ttname"><a href="structcb_1_1listNode.html">cb::listNode</a></div><div class="ttdoc">Elements of list.</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00026">cbLRUCache.hpp:26</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_a2368acdee826f07ac224617d9882e1b1"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#a2368acdee826f07ac224617d9882e1b1">cb::cbLRUCache::insertTop</a></div><div class="ttdeci">void insertTop(const std::string &amp;key)</div><div class="ttdoc">transit the node choosen to the top of list</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00132">cbLRUCache.hpp:132</a></div></div>
<div class="ttc" id="astructcb_1_1listNode_html_a3132dfa1625ab23c1723b2923ad49efa"><div class="ttname"><a href="structcb_1_1listNode.html#a3132dfa1625ab23c1723b2923ad49efa">cb::listNode::key</a></div><div class="ttdeci">std::string key</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00027">cbLRUCache.hpp:27</a></div></div>
<div class="ttc" id="anamespacecb_html"><div class="ttname"><a href="namespacecb.html">cb</a></div><div class="ttdoc">_WIN32</div><div class="ttdef"><b>Definition:</b> <a href="api_8cpp_source.html#l00003">api.cpp:3</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_ab56c26d264c685eba20411fb25329ce4"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#ab56c26d264c685eba20411fb25329ce4">cb::cbLRUCache::get</a></div><div class="ttdeci">V * get(const std::string &amp;key)</div><div class="ttdoc">Get the value of corresponding key of input, if key doesn't exist, it will return null pointer.</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00086">cbLRUCache.hpp:86</a></div></div>
<div class="ttc" id="acbLRUCache_8hpp_html_a1363719668ca50379880427fa2c3b20d"><div class="ttname"><a href="cbLRUCache_8hpp.html#a1363719668ca50379880427fa2c3b20d">find_list</a></div><div class="ttdeci">#define find_list</div><div class="ttdoc">Macro define of loop in cache list.</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00019">cbLRUCache.hpp:19</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_a9d78968f5ee2f976570ee2393009a201"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#a9d78968f5ee2f976570ee2393009a201">cb::cbLRUCache::m_bufNode</a></div><div class="ttdeci">node * m_bufNode</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00157">cbLRUCache.hpp:157</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_a7c54e3dc65e065324642c5d9d2b8c436"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#a7c54e3dc65e065324642c5d9d2b8c436">cb::cbLRUCache::m_maxSize</a></div><div class="ttdeci">int32_t m_maxSize</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00155">cbLRUCache.hpp:155</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_af99767b4757fb7727011558bd9c460bd"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#af99767b4757fb7727011558bd9c460bd">cb::cbLRUCache::m_cacheList</a></div><div class="ttdeci">std::list&lt; node &gt; m_cacheList</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00159">cbLRUCache.hpp:159</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_a8cc7aca13b63fca3731c80125d0f08a9"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#a8cc7aca13b63fca3731c80125d0f08a9">cb::cbLRUCache::push</a></div><div class="ttdeci">void push(std::string key, V value)</div><div class="ttdoc">Push key and value into cache. If key has been existed, the corresponding value will be update.</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00061">cbLRUCache.hpp:61</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_a0b280e9228160d9712ed2d725228adbf"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#a0b280e9228160d9712ed2d725228adbf">cb::cbLRUCache::update</a></div><div class="ttdeci">void update(const std::string &amp;key)</div><div class="ttdoc">move the node has been used recently to the top of cache list</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00117">cbLRUCache.hpp:117</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_a32517b757e585364fa8972fa298e6d9d"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#a32517b757e585364fa8972fa298e6d9d">cb::cbLRUCache::eraseTail</a></div><div class="ttdeci">void eraseTail()</div><div class="ttdoc">delete the last element of list</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00103">cbLRUCache.hpp:103</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html"><div class="ttname"><a href="classcb_1_1cbLRUCache.html">cb::cbLRUCache</a></div><div class="ttdoc">We used LRU alogrithm to implement our cache.</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00039">cbLRUCache.hpp:39</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_a6e3c5f3641f466a141492de7a096e7dd"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#a6e3c5f3641f466a141492de7a096e7dd">cb::cbLRUCache::m_sizeCounter</a></div><div class="ttdeci">int32_t m_sizeCounter</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00156">cbLRUCache.hpp:156</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_ac6d5ba07ba79a9bb04b856d89dbde338"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#ac6d5ba07ba79a9bb04b856d89dbde338">cb::cbLRUCache::~cbLRUCache</a></div><div class="ttdeci">~cbLRUCache()</div><div class="ttdoc">Destroy the cb Least Recently Use Cache object.</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00052">cbLRUCache.hpp:52</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_a974ff18e8caf727be5e35114ad76d0fd"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#a974ff18e8caf727be5e35114ad76d0fd">cb::cbLRUCache::m_cacheMap</a></div><div class="ttdeci">std::map&lt; std::string, V &gt; m_cacheMap</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00160">cbLRUCache.hpp:160</a></div></div>
<div class="ttc" id="aclasscb_1_1cbLRUCache_html_af2a05e8bc5b125fab2f483088d04e1df"><div class="ttname"><a href="classcb_1_1cbLRUCache.html#af2a05e8bc5b125fab2f483088d04e1df">cb::cbLRUCache::m_bufKey</a></div><div class="ttdeci">std::string m_bufKey</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00158">cbLRUCache.hpp:158</a></div></div>
<div class="ttc" id="anamespacecb_html_aa7c4b9d0a0384c05a44d3039d9885558"><div class="ttname"><a href="namespacecb.html#aa7c4b9d0a0384c05a44d3039d9885558">cb::node</a></div><div class="ttdeci">listNode node</div><div class="ttdef"><b>Definition:</b> <a href="cbLRUCache_8hpp_source.html#l00030">cbLRUCache.hpp:30</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
